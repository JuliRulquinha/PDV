<div class="lista-produto-container">

  <!-- Bot√£o de cadastro -->
  <div class="actions">
    <button class="btn btn-primary" (click)="novoProduto()" *ngIf="!produtoSelecionado && !novoCadastro">
      + Cadastrar Produto
    </button>
    <button class="btn btn-secondary" routerLink="/checkout">üè† In√≠cio</button>
  </div>

  <!-- Lista de Produtos -->
  <h2 class="titulo">Lista de Produtos</h2>
  <table class="tabela-produtos">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Fornecedor</th>
        <th>Categoria</th>
        <th>Marca</th>
        <th>Modelo</th>
        <th>Qtd</th>
        <th>Valor Venda</th>
        <th>A√ß√µes</th>
      </tr>
    </thead>
    <tbody>
     <tr *ngFor="let p of produtos">
  <td data-label="ID">{{ p.id }}</td>
  <td data-label="Nome">{{ p.nome }}</td>
  <td data-label="Fornecedor">{{ p.fornecedor?.nome }}</td>
  <td data-label="Categoria">{{ p.categoria?.nome }}</td>
  <td data-label="Marca">{{ p.marca }}</td>
  <td data-label="Modelo">{{ p.modelo }}</td>
  <td data-label="Qtd">{{ p.quantidade }}</td>
  <td data-label="Valor Venda" *ngIf="p.valorVenda">R$ {{ p.valorVenda | number:'1.2-2' }}</td>
  <td data-label="Valor Venda" *ngIf="!p.valorVenda">-</td>
  <td data-label="A√ß√µes">
    <button class="btn btn-edit" (click)="editarProduto(p)">‚úèÔ∏è Editar</button>
  </td>
</tr>

    </tbody>
  </table>

  <!-- Formul√°rio (Cadastro ou Edi√ß√£o) -->
  <div *ngIf="produtoSelecionado || novoCadastro" class="form-container">
    <h2 class="titulo">
      {{ novoCadastro ? 'Cadastrar Produto' : 'Editar Produto: ' + produtoSelecionado?.nome }}
    </h2>

    <form [formGroup]="formProduto" (ngSubmit)="salvarProduto()" class="form-produto">
      <div class="form-group">
        <label>Nome:</label>
        <input type="text" formControlName="nome">
      </div>

      <div class="form-group">
        <label>Fornecedor:</label>
        <select formControlName="fornecedor">
          <option [ngValue]="null">Selecione...</option>
          <option *ngFor="let f of fornecedores" [ngValue]="f">{{ f.nome }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Categoria:</label>
        <select formControlName="categoria">
          <option [ngValue]="null">Selecione...</option>
          <option *ngFor="let c of categorias" [ngValue]="c">{{ c.nome }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Marca:</label>
        <input type="text" formControlName="marca">
      </div>

      <div class="form-group">
        <label>Modelo:</label>
        <input type="text" formControlName="modelo">
      </div>

      <div class="form-group">
        <label>Quantidade:</label>
        <input type="number" formControlName="quantidade">
      </div>

      <div class="form-group">
        <label>Valor Custo:</label>
        <input type="number" formControlName="valorCusto">
      </div>

      <div class="form-group">
        <label>Valor Venda:</label>
        <input type="number" formControlName="valorVenda">
      </div>

      <div class="form-group">
        <label>Imagem (URL):</label>
        <input type="text" formControlName="imageUrl">
      </div>

      <div class="form-group">
        <label>Validade:</label>
        <input type="date" formControlName="validade">
      </div>

      <!-- Dimens√µes -->
      <fieldset formGroupName="dimensoes" class="dimensoes">
        <legend>Dimens√µes</legend>
        <div class="form-group">
          <label>Largura:</label>
          <input type="number" formControlName="largura">
        </div>
        <div class="form-group">
          <label>Altura:</label>
          <input type="number" formControlName="altura">
        </div>
        <div class="form-group">
          <label>Profundidade:</label>
          <input type="number" formControlName="profundidade">
        </div>
      </fieldset>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">{{ novoCadastro ? 'Salvar' : 'Atualizar' }}</button>
        <button type="button" class="btn btn-cancel" (click)="cancelarEdicao()">Cancelar</button>
      </div>
    </form>
  </div>

</div>
